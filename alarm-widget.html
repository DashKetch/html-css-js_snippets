 <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Alarm Widget</title>
<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    padding: 30px;
    background: #f0f4f8;
    color: #333;
  }
  input[type="time"] {
    font-size: 1.2em;
    padding: 8px 12px;
    margin-right: 10px;
  }
  button {
    font-size: 1.1em;
    padding: 8px 16px;
    cursor: pointer;
  }
  #status {
    margin-top: 20px;
    font-size: 1.5em;
    font-weight: bold;
    color: #007700;
  }
</style>
</head>
<body>

<input type="time" id="alarmTime" />
<button id="setAlarmBtn">Set Alarm</button>

<div id="status">No alarm set</div>

<audio id="alarmSound" src="https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg" preload="auto"></audio>

<script>
  const alarmInput = document.getElementById('alarmTime');
  const setBtn = document.getElementById('setAlarmBtn');
  const statusDiv = document.getElementById('status');
  const alarmSound = document.getElementById('alarmSound');

  let alarmTime = null;
  let checkInterval = null;

  function formatTime(date) {
    return date.toTimeString().slice(0,5);
  }

  function checkAlarm() {
    const now = new Date();
    const nowTimeStr = now.toTimeString().slice(0,5);

    if (alarmTime === nowTimeStr) {
      alarmSound.play();
      statusDiv.textContent = `â° Alarm ringing at ${alarmTime}!`;
      statusDiv.style.color = 'red';
      clearInterval(checkInterval);
      // Optionally, flash or do other alert effects here
    }
  }

  setBtn.addEventListener('click', () => {
    if (!alarmInput.value) {
      alert('Please select a time for the alarm.');
      return;
    }

    alarmTime = alarmInput.value;
    statusDiv.textContent = `Alarm set for ${alarmTime}`;
    statusDiv.style.color = '#007700';

    if (checkInterval) {
      clearInterval(checkInterval);
    }

    // Start checking every second
    checkInterval = setInterval(checkAlarm, 1000);
  });
</script>

</body>
</html>
